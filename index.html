<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Himanshu Voice AI</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#efeae2;
}
.header{
  background:#075e54;
  color:white;
  padding:15px;
  text-align:center;
  font-size:18px;
}
.chat{
  height:70vh;
  overflow-y:auto;
  padding:10px;
}
.msg{
  max-width:75%;
  padding:10px;
  margin:8px;
  border-radius:10px;
}
.user{background:#dcf8c6;margin-left:auto;}
.bot{background:#fff;margin-right:auto;}

.input-box{
  display:flex;
  position:fixed;
  bottom:0;
  width:100%;
  background:#fff;
  padding:10px;
}
input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:1px solid #ccc;
}
button{
  margin-left:6px;
  padding:10px;
  border:none;
  border-radius:50%;
  background:#075e54;
  color:white;
  font-size:16px;
}
</style>
</head>

<body>

<div class="header">ЁЯОд Himanshu Voice AI</div>

<div class="chat" id="chat">
  <div class="msg bot">рдирдорд╕реНрддреЗ ЁЯСЛ рдмреЛрд▓рд┐рдП, рдореИрдВ рд╕реБрди рд░рд╣рд╛ рд╣реВрдБ</div>
</div>

<div class="input-box">
  <input id="userInput" placeholder="Type or Speak...">
  <button onclick="startVoice()">ЁЯОд</button>
  <button onclick="send()">тЮд</button>
</div>

<script>
let memory = {name:"",study:""};

function speak(text){
  let speech = new SpeechSynthesisUtterance(text);
  speech.lang = /[a-zA-Z]/.test(text) ? "en-US" : "hi-IN";
  window.speechSynthesis.speak(speech);
}

function isEnglish(text){
  return /^[a-zA-Z0-9\s?.!]+$/.test(text);
}

function send(){
  let input = document.getElementById("userInput");
  let text = input.value.trim();
  if(text==="") return;

  let chat = document.getElementById("chat");
  chat.innerHTML += `<div class="msg user">${text}</div>`;
  input.value="";

  setTimeout(()=>{
    let en = isEnglish(text.toLowerCase());
    let reply="";

    if(text.toLowerCase().includes("my name is")){
      memory.name=text.replace(/my name is/i,"").trim();
      reply=en?`Nice name ${memory.name}`:`рдЕрдЪреНрдЫрд╛ рдирд╛рдо рд╣реИ ${memory.name}`;
    }
    else if(text.toLowerCase().includes("i study")){
      memory.study=text.replace(/i study/i,"").trim();
      reply=en?`You study ${memory.study}`:`рддреБрдо ${memory.study} рдкрдврд╝рддреЗ рд╣реЛ`;
    }
    else if(text.toLowerCase().includes("what is my name")){
      reply=memory.name? (en?`Your name is ${memory.name}`:`рддреБрдореНрд╣рд╛рд░рд╛ рдирд╛рдо ${memory.name} рд╣реИ`) : (en?"You didn't tell me":"рддреБрдордиреЗ рдирд╛рдо рдирд╣реАрдВ рдмрддрд╛рдпрд╛");
    }
    else if(text.includes("рдирдорд╕реНрддреЗ") || text.toLowerCase().includes("hello")){
      reply=en?"Hello ЁЯСЛ How can I help you?":"рдирдорд╕реНрддреЗ ЁЯСЛ рдореИрдВ рдЖрдкрдХреА рдорджрдж рдХрд░реВрдБ?";
    }
    else{
      reply=en?"I am learning ЁЯШК":"рдореИрдВ рд╕реАрдЦ рд░рд╣рд╛ рд╣реВрдБ ЁЯШК";
    }

    chat.innerHTML += `<div class="msg bot">${reply}</div>`;
    speak(reply);
    chat.scrollTop=chat.scrollHeight;
  },600);
}

function startVoice(){
  let SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  let recog = new SpeechRecognition();
  recog.lang = "hi-IN";
  recog.start();

  recog.onresult = function(e){
    document.getElementById("userInput").value = e.results[0][0].transcript;
    send();
  }
}
</script>

</body>
</html>
